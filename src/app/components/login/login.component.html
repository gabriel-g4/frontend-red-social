<div class="container">
    <h2> Iniciar sesión </h2>
    <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">

        <div class="field">
            <label for="email">Mail</label>
            <input type="email" name="email" id="email" formControlName="email" placeholder="tumail@mail.com">
        

            @if (loginForm.controls.email.invalid && 
            loginForm.controls.email.touched) {
                @if(loginForm.controls.email.errors?.['required']) {
                    <small> El mail es requerido. </small>
                } @else if (loginForm.controls.email.errors?.['email']) {
                    <small> Debe ingresar un mail válido. </small>
                }
            }

        </div>

        <div class="field">
            <label for="password">Contraseña</label>
            <input type="password" name="password" id="password" formControlName="password" placeholder="********">
            
            @if (loginForm.controls.password.invalid && 
            (loginForm.controls.password.touched || 
            loginForm.controls.password.dirty)) {
                @if(loginForm.controls.password.errors?.['required']) {
                    <small> La contraseña es requerida. </small>
                } @else if (loginForm.controls.password.errors?.['minlength']) {
                    <small> Su contraseña debe tener un mínimo de 8 caracteres. </small>
                } @else if (loginForm.controls.password.errors?.['pattern']) {
                    <small> Su contraseña debe poseer al menos una mayúscula, una minúscula y un número.</small>
                }
            }
        </div>

        <div class="mensaje" *ngIf="mensaje"> {{ mensaje}} </div>

        <input type="submit" value="Iniciar sesion">

        <div class="link">
            <a routerLink="/registro" routerLinkActive="active">Crear una cuenta</a>
        </div>
    </form>
</div>